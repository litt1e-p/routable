!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("core-js/modules/es.array.for-each"),require("core-js/modules/web.dom-collections.for-each"),require("core-js/modules/es.array.includes"),require("core-js/modules/es.array.iterator"),require("core-js/modules/es.array.join"),require("core-js/modules/es.array.slice"),require("core-js/modules/es.object.keys"),require("core-js/modules/es.object.to-string"),require("core-js/modules/es.promise"),require("core-js/modules/es.regexp.exec"),require("core-js/modules/es.regexp.to-string"),require("core-js/modules/es.string.includes"),require("core-js/modules/es.string.iterator"),require("core-js/modules/es.string.search"),require("core-js/modules/es.string.split"),require("core-js/modules/web.dom-collections.iterator"),require("core-js/modules/web.url"),require("regenerator-runtime/runtime"),require("core-js/modules/es.string.replace"),require("core-js/modules/es.array.reduce"),require("core-js/modules/es.object.from-entries"),require("core-js/modules/es.array.concat")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es.array.for-each","core-js/modules/web.dom-collections.for-each","core-js/modules/es.array.includes","core-js/modules/es.array.iterator","core-js/modules/es.array.join","core-js/modules/es.array.slice","core-js/modules/es.object.keys","core-js/modules/es.object.to-string","core-js/modules/es.promise","core-js/modules/es.regexp.exec","core-js/modules/es.regexp.to-string","core-js/modules/es.string.includes","core-js/modules/es.string.iterator","core-js/modules/es.string.search","core-js/modules/es.string.split","core-js/modules/web.dom-collections.iterator","core-js/modules/web.url","regenerator-runtime/runtime","core-js/modules/es.string.replace","core-js/modules/es.array.reduce","core-js/modules/es.object.from-entries","core-js/modules/es.array.concat"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).routable={})}(this,(function(e){"use strict";function r(e,r,t,n,o,s,u){try{var i=e[s](u),c=i.value}catch(e){return void t(e)}i.done?r(c):Promise.resolve(c).then(n,o)}function t(e){return function(){var t=this,n=arguments;return new Promise((function(o,s){var u=e.apply(t,n);function i(e){r(u,o,s,i,c,"next",e)}function c(e){r(u,o,s,i,c,"throw",e)}i(void 0)}))}}function n(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,o=!1,s=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(e){o=!0,s=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw s}}return t}(e,r)||s(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,r){if(e){if("string"==typeof e)return u(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,r):void 0}}function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function i(e){return Array.prototype.slice.call(e)}function c(e){return new Promise((function(r,t){e.onsuccess=function(){r(e.result)},e.onerror=function(){t(e.error)}}))}function a(e,r,t){var n,o=new Promise((function(o,s){c(n=e[r].apply(e,t)).then(o,s)}));return o.request=n,o}function l(e,r,t){var n=a(e,r,t);return n.then((function(e){if(e)return new h(e,n.request)}))}function f(e,r,t){t.forEach((function(t){Object.defineProperty(e.prototype,t,{get:function(){return this[r][t]},set:function(e){this[r][t]=e}})}))}function d(e,r,t,n){n.forEach((function(n){n in t.prototype&&(e.prototype[n]=function(){return a(this[r],n,arguments)})}))}function p(e,r,t,n){n.forEach((function(n){n in t.prototype&&(e.prototype[n]=function(){return this[r][n].apply(this[r],arguments)})}))}function _(e,r,t,n){n.forEach((function(n){n in t.prototype&&(e.prototype[n]=function(){return l(this[r],n,arguments)})}))}function b(e){this._index=e}function h(e,r){this._cursor=e,this._request=r}function m(e){this._store=e}function y(e){this._tx=e,this.complete=new Promise((function(r,t){e.oncomplete=function(){r()},e.onerror=function(){t(e.error)},e.onabort=function(){t(e.error)}}))}function g(e,r,t){this._db=e,this.oldVersion=r,this.transaction=new y(t)}function v(e){this._db=e}if(f(b,"_index",["name","keyPath","multiEntry","unique"]),d(b,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),_(b,"_index",IDBIndex,["openCursor","openKeyCursor"]),f(h,"_cursor",["direction","key","primaryKey","value"]),d(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(h.prototype[e]=function(){var r=this,t=arguments;return Promise.resolve().then((function(){return r._cursor[e].apply(r._cursor,t),c(r._request).then((function(e){if(e)return new h(e,r._request)}))}))})})),m.prototype.createIndex=function(){return new b(this._store.createIndex.apply(this._store,arguments))},m.prototype.index=function(){return new b(this._store.index.apply(this._store,arguments))},f(m,"_store",["name","keyPath","indexNames","autoIncrement"]),d(m,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),_(m,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),p(m,"_store",IDBObjectStore,["deleteIndex"]),y.prototype.objectStore=function(){return new m(this._tx.objectStore.apply(this._tx,arguments))},f(y,"_tx",["objectStoreNames","mode"]),p(y,"_tx",IDBTransaction,["abort"]),g.prototype.createObjectStore=function(){return new m(this._db.createObjectStore.apply(this._db,arguments))},f(g,"_db",["name","version","objectStoreNames"]),p(g,"_db",IDBDatabase,["deleteObjectStore","close"]),v.prototype.transaction=function(){return new y(this._db.transaction.apply(this._db,arguments))},f(v,"_db",["name","version","objectStoreNames"]),p(v,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[m,b].forEach((function(r){e in r.prototype&&(r.prototype[e.replace("open","iterate")]=function(){var r=i(arguments),t=r[r.length-1],n=this._store||this._index,o=n[e].apply(n,r.slice(0,-1));o.onsuccess=function(){t(o.result)}})}))})),[b,m].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,r){var t=this,n=[];return new Promise((function(o){t.iterateCursor(e,(function(e){e?(n.push(e.value),void 0===r||n.length!=r?e.continue():o(n)):o(n)}))}))})})),[b,m].forEach((function(e){e.prototype.getAllKeys||(e.prototype.getAllKeys=function(e,r){var t=this,n=[];return new Promise((function(o){t.iterateCursor(e,(function(e){e?(n.push(e.key),void 0===r||n.length!=r?e.continue():o(n)):o(n)}))}))})})),!("indexedDB"in window))throw new Error("Fatal error: the browser does not support indexedDb");var j,w,x,S="__rtb_db_table",R=(j=function(e){e.createObjectStore(S)},w=a(indexedDB,"open",["__rtb_db_routable",1]),(x=w.request)&&(x.onupgradeneeded=function(e){j&&j(new g(x.result,e.oldVersion,x.transaction))}),w.then((function(e){return new v(e)}))),q={__rtb_setSS:function(e,r){return t(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R;case 2:return n=t.sent,(o=n.transaction(S,"readwrite")).objectStore(S).put(r,e),t.abrupt("return",o.complete);case 6:case"end":return t.stop()}}),t)})))()},__rtb_getSS:function(e){return t(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R;case 2:return t=r.sent,r.abrupt("return",t.transaction(S).objectStore(S).get(e));case 4:case"end":return r.stop()}}),r)})))()},__rtb_delSS:function(e){return t(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R;case 2:return t=r.sent,(n=t.transaction(S,"readwrite")).objectStore(S).delete(e),r.abrupt("return",n.complete);case 6:case"end":return r.stop()}}),r)})))()},__rtb_clearSS:function(){return t(regeneratorRuntime.mark((function e(){var r,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R;case 2:return r=e.sent,(t=r.transaction(S,"readwrite")).objectStore(S).clear(),e.abrupt("return",t.complete);case 6:case"end":return e.stop()}}),e)})))()},__rtb_ssKeys:function(){return t(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R;case 2:return r=e.sent,e.abrupt("return",r.transaction(S).objectStore(S).getAllKeys());case 4:case"end":return e.stop()}}),e)})))()},__rtb_ssVals:function(){return t(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R;case 2:return r=e.sent,e.abrupt("return",r.transaction(S).objectStore(S).getAll());case 4:case"end":return e.stop()}}),e)})))()}},k={_gen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return this._ren((new Date).getTime().toString(e))},_ren:function(e){if(!e||!e.length)return e;for(var r=e.split(""),t=[];r.length;){var n=r.shift();t.unshift(Math.random()>.6?n.toUpperCase():n)}return t.join("")},_enc:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return e+r.split("").reverse().join(t)},_dec:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return e+this._enb(r.slice(e.length).split(t).reverse().join(""))},_enp:function(e){return btoa(encodeURIComponent(JSON.stringify(e)))},_dep:function(e){return JSON.parse(decodeURIComponent(atob(e)))},_enb:function(e){return btoa(e)},_deb:function(e){return atob(e)}};function O(e){return"function"==typeof Object.fromEntries?Object.fromEntries(e):o(e).reduce((function(e,r){var t=n(r,2),o=t[0],s=t[1];return e[o]=s,e}),{})}function I(e,r,t,n,o,s,u,i,c,a){"boolean"!=typeof u&&(c=i,i=u,u=!1);var l,f="function"==typeof t?t.options:t;if(e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),n&&(f._scopeId=n),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},f._ssrRegister=l):r&&(l=u?function(e){r.call(this,a(e,this.$root.$options.shadowRoot))}:function(e){r.call(this,i(e))}),l)if(f.functional){var d=f.render;f.render=function(e,r){return l.call(r),d(e,r)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,l):[l]}return t}var C=I({},undefined,{name:"litt1epRoutable",methods:{__rtb_set:function(e,r){return q.__rtb_setSS.apply(this,[e,r])},__rtb_get:function(e){return q.__rtb_getSS.call(this,e)},__rtb_erased:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sl,",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"gs_l";if(!e||e.length<=0)return"";if(!r){var o=Object.prototype.constructor();return o[n]=btoa(encodeURIComponent(JSON.stringify(e))),o}var s=(new Date).getTime(),u=s.toString().split("").reverse().join(","),i=u.substr(0,u.length-4);this.__rtb_set(t+btoa(i),btoa(encodeURIComponent(JSON.stringify(e))));var c=Object.prototype.constructor();return c[n]=t+btoa((16777215*s<<7).toString(16)).split("").reverse().join(".")+":"+i,c},__rtb_erase:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sl,",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"gs_l";if(!e||e.length<=0)return"";if(!r){var s=Object.prototype.constructor();return s[o]=k._enp(e),s}var u=k._gen(t);this.__rtb_set(n+k._enb(u),k._enp(e));var i=Object.prototype.constructor();return i[o]=k._enc(n,u),i},__rtb_record:function(e){var r=arguments;return t(regeneratorRuntime.mark((function t(){var n,o,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],o=r.length>2&&void 0!==r[2]?r[2]:"sl,",s=r.length>3&&void 0!==r[3]?r[3]:"gs_l",e&&!(Object.keys(e).length<=0)&&e.hasOwnProperty(s)){t.next=5;break}return t.abrupt("return",{});case 5:if(n){t.next=7;break}return t.abrupt("return",k._dep(e[s]));case 7:if(e[s].includes(o)){t.next=9;break}return t.abrupt("return",{});case 9:return t.next=11,q.__rtb_getSS(k._dec(o,e[s])).catch((function(e){return!1}));case 11:if(u=t.sent){t.next=14;break}return t.abrupt("return",{});case 14:return t.abrupt("return",k._dep(u));case 15:case"end":return t.stop()}}),t)})))()},__rtb_flush:function(e){var r=arguments,n=this;return t(regeneratorRuntime.mark((function t(){var o,s,u,i,c,a,l,f,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.length>1&&void 0!==r[1]?r[1]:"sl,",s=r.length>2&&void 0!==r[2]?r[2]:"gs_l",u=!1,i=e&&e.hasOwnProperty(s),c=i?e[s]:void 0){t.next=7;break}return t.abrupt("return",u);case 7:return t.next=9,q.__rtb_ssKeys();case 9:if(a=t.sent,l=a.length){t.next=13;break}return t.abrupt("return",u);case 13:f=0;case 14:if(!(f<l)){t.next=23;break}if(d=a[f],!c||!n.__preProf(d)||d!==k._dec(o,c)){t.next=20;break}return q.__rtb_delSS(d),u=!0,t.abrupt("break",23);case 20:f++,t.next=14;break;case 23:return t.abrupt("return",u);case 24:case"end":return t.stop()}}),t)})))()},__rtb_clear:function(){var e=arguments,r=this;return t(regeneratorRuntime.mark((function t(){var n,o,s,u,i,c,a,l,f,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"",o=e.length>1&&void 0!==e[1]?e[1]:"sl,",s=e.length>2&&void 0!==e[2]?e[2]:"gs_l",t.next=5,q.__rtb_ssKeys();case 5:if(u=t.sent,i=u.length,!0,i){t.next=10;break}return t.abrupt("return",true);case 10:if(!n){t.next=16;break}return t.next=13,q.__rtb_getSS(n);case 13:t.t0=t.sent,t.next=17;break;case 16:t.t0="";case 17:if(!(c=t.t0)){t.next=23;break}return t.next=21,r.__rtb_route(c);case 21:(l=t.sent).hasOwnProperty("query")&&l.query.hasOwnProperty(s)&&(a=k._dec(o,l.query[s]));case 23:for(f=0;f<i;f++)d=u[f],r.__preProf(d)&&a!==d&&q.__rtb_delSS(d);return t.abrupt("return",!0);case 25:case"end":return t.stop()}}),t)})))()},__preProf:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sl,";return"[object String]"===Object.prototype.toString.call(e)&&e.length>=3&&e.slice(0,3)===r},__rtb_allKeys:function(){return t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.__rtb_ssKeys();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},__rtb_allVals:function(){return t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.__rtb_ssVals();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},__rtb_route:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(r,t){if(!e||"string"!=typeof e)return t(new Error("Invalid __rtb_route params"));if("URLSearchParams"in window){var n=new URL(e),o=O(new URLSearchParams(n.search));return r({path:n.pathname,query:o})}return t(new Error("Browser does not supports URLSearchParams"))}))}}},undefined,undefined,undefined,!1,void 0,void 0,void 0),P=[C],E=function(e){P.forEach((function(r){e.mixin(r)}))};"undefined"!=typeof window&&window.Vue&&E(window.Vue),e.Routable=C,e.default=E,Object.defineProperty(e,"__esModule",{value:!0})}));
