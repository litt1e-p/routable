var routable=function(e){"use strict";function t(e,t,r,n,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function r(e){return function(){var r=this,n=arguments;return new Promise((function(o,i){var u=e.apply(r,n);function a(e){t(u,o,i,a,c,"next",e)}function c(e){t(u,o,i,a,c,"throw",e)}a(void 0)}))}}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return Array.prototype.slice.call(e)}function c(e){return new Promise((function(t,r){e.onsuccess=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function s(e,t,r){var n,o=new Promise((function(o,i){c(n=e[t].apply(e,r)).then(o,i)}));return o.request=n,o}function f(e,t,r){var n=s(e,t,r);return n.then((function(e){if(e)return new h(e,n.request)}))}function p(e,t,r){r.forEach((function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(e){this[t][r]=e}})}))}function _(e,t,r,n){n.forEach((function(n){n in r.prototype&&(e.prototype[n]=function(){return s(this[t],n,arguments)})}))}function l(e,t,r,n){n.forEach((function(n){n in r.prototype&&(e.prototype[n]=function(){return this[t][n].apply(this[t],arguments)})}))}function d(e,t,r,n){n.forEach((function(n){n in r.prototype&&(e.prototype[n]=function(){return f(this[t],n,arguments)})}))}function b(e){this._index=e}function h(e,t){this._cursor=e,this._request=t}function v(e){this._store=e}function y(e){this._tx=e,this.complete=new Promise((function(t,r){e.oncomplete=function(){t()},e.onerror=function(){r(e.error)},e.onabort=function(){r(e.error)}}))}function g(e,t,r){this._db=e,this.oldVersion=t,this.transaction=new y(r)}function m(e){this._db=e}if(p(b,"_index",["name","keyPath","multiEntry","unique"]),_(b,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),d(b,"_index",IDBIndex,["openCursor","openKeyCursor"]),p(h,"_cursor",["direction","key","primaryKey","value"]),_(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(h.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),c(t._request).then((function(e){if(e)return new h(e,t._request)}))}))})})),v.prototype.createIndex=function(){return new b(this._store.createIndex.apply(this._store,arguments))},v.prototype.index=function(){return new b(this._store.index.apply(this._store,arguments))},p(v,"_store",["name","keyPath","indexNames","autoIncrement"]),_(v,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),d(v,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),l(v,"_store",IDBObjectStore,["deleteIndex"]),y.prototype.objectStore=function(){return new v(this._tx.objectStore.apply(this._tx,arguments))},p(y,"_tx",["objectStoreNames","mode"]),l(y,"_tx",IDBTransaction,["abort"]),g.prototype.createObjectStore=function(){return new v(this._db.createObjectStore.apply(this._db,arguments))},p(g,"_db",["name","version","objectStoreNames"]),l(g,"_db",IDBDatabase,["deleteObjectStore","close"]),m.prototype.transaction=function(){return new y(this._db.transaction.apply(this._db,arguments))},p(m,"_db",["name","version","objectStoreNames"]),l(m,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[v,b].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=a(arguments),r=t[t.length-1],n=this._store||this._index,o=n[e].apply(n,t.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[b,v].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var r=this,n=[];return new Promise((function(o){r.iterateCursor(e,(function(e){e?(n.push(e.value),void 0===t||n.length!=t?e.continue():o(n)):o(n)}))}))})})),[b,v].forEach((function(e){e.prototype.getAllKeys||(e.prototype.getAllKeys=function(e,t){var r=this,n=[];return new Promise((function(o){r.iterateCursor(e,(function(e){e?(n.push(e.key),void 0===t||n.length!=t?e.continue():o(n)):o(n)}))}))})})),!("indexedDB"in window))throw new Error("Fatal error: the browser does not support indexedDb");var w,x,S,R="__rtb_db_table",j=(w=function(e){e.createObjectStore(R)},x=s(indexedDB,"open",["__rtb_db_routable",1]),(S=x.request)&&(S.onupgradeneeded=function(e){w&&w(new g(S.result,e.oldVersion,S.transaction))}),x.then((function(e){return new m(e)}))),O={__rtb_setSS:function(e,t){return r(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j;case 2:return n=r.sent,(o=n.transaction(R,"readwrite")).objectStore(R).put(t,e),r.abrupt("return",o.complete);case 6:case"end":return r.stop()}}),r)})))()},__rtb_getSS:function(e){return r(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j;case 2:return r=t.sent,t.abrupt("return",r.transaction(R).objectStore(R).get(e));case 4:case"end":return t.stop()}}),t)})))()},__rtb_delSS:function(e){return r(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j;case 2:return r=t.sent,(n=r.transaction(R,"readwrite")).objectStore(R).delete(e),t.abrupt("return",n.complete);case 6:case"end":return t.stop()}}),t)})))()},__rtb_clearSS:function(){return r(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return t=e.sent,(r=t.transaction(R,"readwrite")).objectStore(R).clear(),e.abrupt("return",r.complete);case 6:case"end":return e.stop()}}),e)})))()},__rtb_ssKeys:function(){return r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return t=e.sent,e.abrupt("return",t.transaction(R).objectStore(R).getAllKeys());case 4:case"end":return e.stop()}}),e)})))()},__rtb_ssVals:function(){return r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:return t=e.sent,e.abrupt("return",t.transaction(R).objectStore(R).getAll());case 4:case"end":return e.stop()}}),e)})))()}},k={_gen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return this._ren((new Date).getTime().toString(e))},_ren:function(e){if(!e||!e.length)return e;for(var t=e.split(""),r=[];t.length;){var n=t.shift();r.unshift(Math.random()>.6?n.toUpperCase():n)}return r.join("")},_enc:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return e+t.split("").reverse().join(r)},_dec:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return e+this._enb(t.slice(e.length).split(r).reverse().join(""))},_enp:function(e){return btoa(encodeURIComponent(JSON.stringify(e)))},_dep:function(e){return JSON.parse(decodeURIComponent(atob(e)))},_enb:function(e){return btoa(e)},_deb:function(e){return atob(e)}};function I(e){return"function"==typeof Object.fromEntries?Object.fromEntries(e):o(e).reduce((function(e,t){var r=n(t,2),o=r[0],i=r[1];return e[o]=i,e}),{})}function C(e,t,r,n,o,i,u,a,c,s){"boolean"!=typeof u&&(c=a,a=u,u=!1);const f="function"==typeof r?r.options:r;let p;if(e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),n&&(f._scopeId=n),i?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},f._ssrRegister=p):t&&(p=u?function(e){t.call(this,s(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),p)if(f.functional){const e=f.render;f.render=function(t,r){return p.call(r),e(t,r)}}else{const e=f.beforeCreate;f.beforeCreate=e?[].concat(e,p):[p]}return r}const E=C({},void 0,{name:"litt1epRoutable",methods:{__rtb_set:function(e,t){return O.__rtb_setSS.apply(this,[e,t])},__rtb_get:function(e){return O.__rtb_getSS.call(this,e)},__rtb_erased:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sl,",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"gs_l";if(!e||e.length<=0)return"";if(!t){var o=Object.prototype.constructor();return o[n]=btoa(encodeURIComponent(JSON.stringify(e))),o}var i=(new Date).getTime(),u=i.toString().split("").reverse().join(","),a=u.substr(0,u.length-4);this.__rtb_set(r+btoa(a),btoa(encodeURIComponent(JSON.stringify(e))));var c=Object.prototype.constructor();return c[n]=r+btoa((16777215*i<<7).toString(16)).split("").reverse().join(".")+":"+a,c},__rtb_erase:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sl,",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"gs_l";if(!e||e.length<=0)return"";if(!t){var i=Object.prototype.constructor();return i[o]=k._enp(e),i}var u=k._gen(r);this.__rtb_set(n+k._enb(u),k._enp(e));var a=Object.prototype.constructor();return a[o]=k._enc(n,u),a},__rtb_record:function(e){var t=arguments;return r(regeneratorRuntime.mark((function r(){var n,o,i,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>1&&void 0!==t[1]&&t[1],o=t.length>2&&void 0!==t[2]?t[2]:"sl,",i=t.length>3&&void 0!==t[3]?t[3]:"gs_l",e&&!(Object.keys(e).length<=0)&&e.hasOwnProperty(i)){r.next=5;break}return r.abrupt("return",{});case 5:if(n){r.next=7;break}return r.abrupt("return",k._dep(e[i]));case 7:if(!(e[i].indexOf(o)<=-1)){r.next=9;break}return r.abrupt("return",{});case 9:return r.next=11,O.__rtb_getSS(k._dec(o,e[i])).catch((function(e){return!1}));case 11:if(u=r.sent){r.next=14;break}return r.abrupt("return",{});case 14:return r.abrupt("return",k._dep(u));case 15:case"end":return r.stop()}}),r)})))()},__rtb_flush:function(e){var t=arguments;return r(regeneratorRuntime.mark((function r(){var n,o,i,u,a,c,s,f,p;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:"sl,",o=t.length>2&&void 0!==t[2]?t[2]:"gs_l",i=!1,u=e&&e.hasOwnProperty(o),a=u?e[o]:void 0){r.next=7;break}return r.abrupt("return",i);case 7:return r.next=9,O.__rtb_ssKeys();case 9:if(c=r.sent,s=c.length){r.next=13;break}return r.abrupt("return",i);case 13:f=0;case 14:if(!(f<s)){r.next=23;break}if(p=c[f],!a||0!==p.indexOf(n)||p!==k._dec(n,a)){r.next=20;break}return O.__rtb_delSS(p),i=!0,r.abrupt("break",23);case 20:f++,r.next=14;break;case 23:return r.abrupt("return",i);case 24:case"end":return r.stop()}}),r)})))()},__rtb_clear:function(){var e=arguments,t=this;return r(regeneratorRuntime.mark((function r(){var n,o,i,u,a,c,s,f,p,_;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"",o=e.length>1&&void 0!==e[1]?e[1]:"sl,",i=e.length>2&&void 0!==e[2]?e[2]:"gs_l",r.next=5,O.__rtb_ssKeys();case 5:if(u=r.sent,a=u.length,!0,a){r.next=10;break}return r.abrupt("return",!0);case 10:if(!n){r.next=16;break}return r.next=13,O.__rtb_getSS(n);case 13:r.t0=r.sent,r.next=17;break;case 16:r.t0="";case 17:if(!(c=r.t0)){r.next=23;break}return r.next=21,t.__rtb_route(c);case 21:(f=r.sent).hasOwnProperty("query")&&f.query.hasOwnProperty(i)&&(s=k._dec(o,f.query[i]));case 23:for(p=0;p<a;p++)0===(_=u[p]).indexOf(o)&&s!==_&&O.__rtb_delSS(_);return r.abrupt("return",!0);case 25:case"end":return r.stop()}}),r)})))()},__rtb_allKeys:function(){return r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.__rtb_ssKeys();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},__rtb_allVals:function(){return r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.__rtb_ssVals();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},__rtb_route:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(t,r){if(!e||"string"!=typeof e)return r(new Error("Invalid __rtb_route params"));if("URLSearchParams"in window){var n=new URL(e),o=I(new URLSearchParams(n.search));return t({path:n.pathname,query:o})}return r(new Error("Browser does not supports URLSearchParams"))}))}}},void 0,void 0,void 0,!1,void 0,void 0,void 0);var A=[E],P=function(e){A.forEach((function(t){e.mixin(t)}))};return"undefined"!=typeof window&&window.Vue&&P(window.Vue),e.Routable=E,e.default=P,e}({});
